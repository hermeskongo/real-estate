{% extends 'base.html' %}
{% load static %}

{% block title %} Propriétés{% endblock %}
{% block search_title %}Trouver votre maison de rêve !{% endblock %}

{% block content %}

{% include 'includes/search_form.html' %}

<section class="properties">
    <div class="container">
        <h1 class="section-title">{{ title }}</h1>
        <div class="spinner htmx-indicator"></div>
        <div class="properties-list" id="results">
            {% include 'includes/results.html' %}
        </div>
{% if page_obj %}
<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" class="page-link page-item">&laquo;Précédent</a>
        {% endif %}
        {% for page in page_obj.paginator.page_range  %}
            <a href="?page={{ page }}" class="page-link page-item {% if page_obj.number == page %}active{% endif %}">{{ page }}</a>
        {% endfor %}
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="page-link page-item">Suivant&raquo;</a>
        {% endif %}
    </span>
</div>
{% endif %}
    </div>
</section>
{% endblock %}
